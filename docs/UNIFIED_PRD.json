{
  "onboarding": {
    "version": "1.0",
    "purpose": "Determine user mode (single/household/caregiver), personalize UI, and drive feature discovery.",
    "screens": [
      {
        "id": "role_selection",
        "question": "Who will you primarily be managing?",
        "options": ["myself", "family"],
        "optionDescriptions": {
          "myself": "Just tracking my own health and wellness",
          "family": "Managing health for family members (spouse, children, parents, etc.)"
        },
        "sets": "userMode"
      },
      {
        "id": "goals",
        "question": "What are your goals?",
        "subtitle": "Select all that apply",
        "multiSelect": true,
        "options": ["weight_loss", "meal_planning", "medical_tracking", "shopping_automation", "fitness"],
        "optionsByRole": {
          "myself": ["weight_loss", "meal_planning", "shopping_automation", "fitness"],
          "family": ["weight_loss", "meal_planning", "medical_tracking", "shopping_automation", "fitness"]
        },
        "optionDescriptions": {
          "weight_loss": "Track weight, calories, and progress toward weight goals",
          "meal_planning": "Plan and log meals with AI-powered analysis, plus discover healthy recipes",
          "medical_tracking": "Track appointments, medications, vital signs (blood pressure, glucose, etc.), and health records",
          "shopping_automation": "Smart shopping lists and inventory tracking",
          "fitness": "Track steps, exercise, and fitness challenges"
        },
        "planRequirements": {
          "weight_loss": ["free", "single", "single_plus", "family_basic", "family_plus", "family_premium"],
          "meal_planning": ["free", "single", "single_plus", "family_basic", "family_plus", "family_premium"],
          "medical_tracking": ["single_plus", "family_basic", "family_plus", "family_premium"],
          "shopping_automation": ["free", "single", "single_plus", "family_basic", "family_plus", "family_premium"],
          "fitness": ["free", "single", "single_plus", "family_basic", "family_plus", "family_premium"]
        },
        "sets": "featurePreferences"
      },
      {
        "id": "food_management",
        "question": "How do you get your food?",
        "options": ["i_cook_at_home", "meal_delivery", "meal_kits", "mostly_restaurants"],
        "optionsByRole": {
          "myself": ["i_cook_at_home", "meal_delivery", "meal_kits", "mostly_restaurants"],
          "family": ["self", "others", "shared", "i_shop", "i_dont_shop", "delivery", "meal_kits"]
        },
        "optionDescriptions": {
          "i_cook_at_home": "I cook at home (need recipes, shopping lists)",
          "meal_delivery": "Meal delivery services (need quick meal tracking)",
          "meal_kits": "Meal kit services (need simple ingredient tracking)",
          "mostly_restaurants": "Mostly restaurants/takeout (need easy photo logging)",
          "self": "I cook and shop for myself",
          "others": "Someone else cooks for me (e.g., family member, caregiver)",
          "shared": "We share cooking and shopping duties",
          "i_shop": "I do the grocery shopping",
          "i_dont_shop": "Someone else does the shopping",
          "delivery": "I use delivery services (Instacart, DoorDash, etc.)"
        },
        "sets": "kitchenMode"
      },
      {
        "id": "logging_preference",
        "question": "How do you want to log meals?",
        "subtitle": "Select all that apply",
        "multiSelect": true,
        "options": ["photo", "manual", "both", "with_reminders"],
        "optionDescriptions": {
          "photo": "Take photos of meals for AI-powered analysis",
          "manual": "Manually enter food items and portions",
          "both": "Use both photo and manual logging",
          "with_reminders": "Get reminders to log meals at meal times"
        },
        "sets": "mealLoggingMode"
      },
      {
        "id": "automation",
        "question": "Do you want the app to ask for updates if you forget?",
        "options": ["yes", "no"],
        "optionDescriptions": {
          "yes": "Send me notifications if I haven't logged meals, weight, etc.",
          "no": "I'll log things on my own schedule"
        },
        "sets": "automationLevel"
      },
      {
        "id": "family_setup",
        "question": "Would you like to add anyone now?",
        "subtitle": "You can always add family members later",
        "options": ["yes", "no"],
        "optionDescriptions": {
          "yes": "I'm ready to add family members now",
          "no": "I'll add them later"
        },
        "visibleIf": "userMode != 'myself'"
      }
    ],
    "userModes": {
      "single": {
        "tabs": ["home", "log", "kitchen", "profile"]
      },
      "household": {
        "tabs": ["home", "log", "kitchen", "care_circle"]
      },
      "caregiver": {
        "tabs": ["care_circle", "log", "home", "kitchen"]
      }
    }
  },
  "monetization": {
    "eventDriven": true,
    "triggers": {
      "premium": ["ai_meal_scan", "recipes_limit", "inventory", "shopping", "ai_chat_limit"],
      "family": ["add_second_member", "medications", "appointments", "vitals"],
      "familyPlus": ["add_five_members", "storage_limit", "ai_chat_unlimited", "medical_reports"]
    }
  }
}
