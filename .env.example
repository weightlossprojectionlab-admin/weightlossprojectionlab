# ========================================
# Environment Variables - Weight Loss Progress Lab
# ========================================
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .env.local: cp .env.example .env.local
# 2. Fill in your actual values (never commit .env.local to git)
# 3. Restart your development server
#
# For production: Set these in your hosting provider (Vercel, Netlify, etc.)
#
# ========================================

# ========================================
# FIREBASE CLIENT (REQUIRED)
# ========================================
# Firebase Web SDK configuration for client-side authentication
# Get these from: Firebase Console > Project Settings > General > Your apps
#
NEXT_PUBLIC_FIREBASE_API_KEY=your-firebase-api-key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
NEXT_PUBLIC_FIREBASE_APP_ID=your-app-id

# ========================================
# FIREBASE ADMIN SDK (REQUIRED)
# ========================================
# Server-side Firebase Admin credentials for secure operations
# Get these from: Firebase Console > Project Settings > Service Accounts > Generate New Private Key
#
# IMPORTANT: Keep the \n newlines in the private key format shown below
#
FIREBASE_ADMIN_PROJECT_ID=your-project-id
FIREBASE_ADMIN_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com
FIREBASE_ADMIN_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nyour-private-key-content-here\n-----END PRIVATE KEY-----\n"

# Optional: Override storage bucket for admin operations (defaults to {PROJECT_ID}.appspot.com)
FIREBASE_STORAGE_BUCKET=your-project.appspot.com

# ========================================
# FIREBASE PUSH NOTIFICATIONS (OPTIONAL)
# ========================================
# Required only if you want to enable push notifications
# Get this from: Firebase Console > Project Settings > Cloud Messaging > Web Push certificates
#
# NEXT_PUBLIC_FIREBASE_VAPID_KEY=your-vapid-key

# ========================================
# AI SERVICES - GEMINI (REQUIRED)
# ========================================
# Google Gemini API for meal image analysis and AI features
# Get your FREE API key at: https://makersuite.google.com/app/apikey
# Free tier: 10 requests/minute, 500 requests/day
#
GEMINI_API_KEY=your-gemini-api-key

# Optional: Public Gemini key for client-side recipe generation
# (Only use if you need client-side AI features - use server-side key above for most cases)
# NEXT_PUBLIC_GEMINI_API_KEY=your-public-gemini-key

# ========================================
# AI SERVICES - OPENAI (OPTIONAL)
# ========================================
# OpenAI API for advanced AI orchestration features
# Get your API key at: https://platform.openai.com/api-keys
# Only needed if you enable the AI orchestration feature flag
#
# OPENAI_API_KEY=your-openai-api-key

# Optional: Override default models for different tiers
# OPENAI_MODEL_FAST=gpt-3.5-turbo
# OPENAI_MODEL_BALANCED=gpt-4o-mini
# OPENAI_MODEL_ACCURATE=gpt-4-turbo

# ========================================
# NUTRITION DATA (OPTIONAL)
# ========================================
# USDA FoodData Central API for nutrition data validation
# Get your FREE API key at: https://fdc.nal.usda.gov/api-key-signup.html
# Public domain data (CC0 1.0 Universal) - no cost, no rate limits
# Highly recommended for accurate nutrition data
#
# USDA_API_KEY=your-usda-api-key

# ========================================
# EMAIL SERVICE (OPTIONAL)
# ========================================
# Resend API for sending re-engagement emails
# Get your API key at: https://resend.com/api-keys
# Only needed if you want to send automated emails to inactive users
#
# RESEND_API_KEY=your-resend-api-key

# ========================================
# ERROR TRACKING - SENTRY (RECOMMENDED)
# ========================================
# Sentry for error tracking and performance monitoring in production
# Get your DSN at: https://sentry.io/ (sign up for free account)
# Highly recommended for production deployments
#
# Server-side error tracking (API routes, middleware, server components)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
#
# Client-side error tracking (browser errors, React components)
# NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
#
# Optional: Organization and project slugs (for releases and source maps)
# SENTRY_ORG=your-org-slug
# SENTRY_PROJECT=your-project-slug
# SENTRY_AUTH_TOKEN=your-auth-token

# ========================================
# RATE LIMITING - UPSTASH REDIS (RECOMMENDED)
# ========================================
# Upstash Redis for API rate limiting (protect AI endpoints from abuse)
# Get FREE Redis at: https://console.upstash.com/
# Free tier: 10,000 commands/day (sufficient for small-medium apps)
# Highly recommended to prevent API quota exhaustion
#
# UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-redis-token
#
# NOTE: Without Redis, rate limiting falls back to in-memory (dev mode only)
# Production deployments should ALWAYS configure Redis for proper rate limiting

# ========================================
# APP CONFIGURATION
# ========================================
# Base URLs and environment settings
#
# Development (default)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_BASE_URL=http://localhost:3000
NODE_ENV=development

# Cron job authentication secret (for scheduled functions)
# Generate a random secret: openssl rand -base64 32
# Required for household duty reminder/overdue notifications
CRON_SECRET=your-random-secret-here

# Production (example)
# NEXT_PUBLIC_APP_URL=https://your-app.vercel.app
# NEXT_PUBLIC_BASE_URL=https://your-app.vercel.app
# NODE_ENV=production

# ========================================
# FEATURE FLAGS
# ========================================
# Enable/disable experimental features
# Set to 'true' to enable, anything else (or omit) to disable
#

# Sponsor Perks System (Phase 3 feature)
# NEXT_PUBLIC_PERKS_ENABLED=false

# AI Orchestration Layer (Phase 3 feature)
# Requires OPENAI_API_KEY to be set
# NEXT_PUBLIC_AI_ORCHESTRATION=false

# Trust & Safety Dashboard (Phase 3 feature)
# NEXT_PUBLIC_TS_DASHBOARD=false

# Analytics & Monitoring
# NEXT_PUBLIC_ANALYTICS=false

# ========================================
# STRIPE PAYMENT PROCESSING (REQUIRED FOR MONETIZATION)
# ========================================
# Stripe API keys for subscription management and payments
# Get these from: https://dashboard.stripe.com/apikeys
#
# Test keys (for development - safe to use)
STRIPE_SECRET_KEY=sk_test_your-test-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-test-publishable-key

# Live keys (for production - NEVER commit these!)
# STRIPE_SECRET_KEY=sk_live_your-live-secret-key
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your-live-publishable-key

# Webhook secret for verifying Stripe events
# Get this after creating a webhook endpoint in Stripe Dashboard
# Development: Use Stripe CLI (stripe listen --forward-to localhost:3000/api/stripe/webhook)
# Production: Get from Stripe Dashboard > Webhooks > Signing secret
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Stripe Price IDs (create these in Stripe Dashboard > Products)
# Monthly prices
STRIPE_PRICE_SINGLE_MONTHLY=price_single_monthly_id
STRIPE_PRICE_SINGLE_PLUS_MONTHLY=price_single_plus_monthly_id
STRIPE_PRICE_FAMILY_BASIC_MONTHLY=price_family_basic_monthly_id
STRIPE_PRICE_FAMILY_PLUS_MONTHLY=price_family_plus_monthly_id
STRIPE_PRICE_FAMILY_PREMIUM_MONTHLY=price_family_premium_monthly_id

# Yearly prices
STRIPE_PRICE_SINGLE_YEARLY=price_single_yearly_id
STRIPE_PRICE_SINGLE_PLUS_YEARLY=price_single_plus_yearly_id
STRIPE_PRICE_FAMILY_BASIC_YEARLY=price_family_basic_yearly_id
STRIPE_PRICE_FAMILY_PLUS_YEARLY=price_family_plus_yearly_id
STRIPE_PRICE_FAMILY_PREMIUM_YEARLY=price_family_premium_yearly_id

# ========================================
# NOTES
# ========================================
#
# SECURITY:
# - Never commit .env.local to git (it's in .gitignore)
# - Never share your API keys publicly
# - Rotate keys regularly
# - Use different keys for development and production
#
# NEXT_PUBLIC_* variables:
# - These are exposed to the browser
# - Only use for non-sensitive configuration
# - Never put secrets in NEXT_PUBLIC_* variables
#
# Server-side only variables:
# - These are never exposed to the browser
# - Safe for API keys and secrets
# - Examples: GEMINI_API_KEY, FIREBASE_ADMIN_PRIVATE_KEY, OPENAI_API_KEY
#
# ========================================
